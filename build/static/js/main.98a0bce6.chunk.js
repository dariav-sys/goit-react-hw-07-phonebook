(this["webpackJsonpgoit-react-hw-02-feedback"]=this["webpackJsonpgoit-react-hw-02-feedback"]||[]).push([[0],{10:function(t,e,n){t.exports={data_input:"ContactForm_data_input__1900S",add_button:"ContactForm_add_button__3uIah",form:"ContactForm_form__2IUqW"}},24:function(t,e,n){t.exports={contact:"ContactItem_contact__30xVp",button:"ContactItem_button__29go6"}},37:function(t,e,n){t.exports={input:"Filter_input__3K0YO"}},93:function(t,e,n){},95:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(13),o=n.n(r),u=n(15),s=n(16),i=n(18),b=n(17),l=n(7),d=n(34),j=n.n(d),f=n(4),h=n(10),O=n.n(h),m=n(35),p=n.n(m),g=n(23),C=n.n(g),v=n(36),x=n(11),_=n.n(x),y=n(2),k=Object(y.b)("contacts/fetchContactsRequest"),F=Object(y.b)("contacts/fetchContactsSuccess"),N=Object(y.b)("contacts/fetchContactsError"),S=Object(y.b)("contacts/addContactRequest"),w=Object(y.b)("contacts/addContactSuccess"),D=Object(y.b)("contacts/addContactError"),I=Object(y.b)("contacts/deleteContactRequest"),L=Object(y.b)("contacts/deleteContactSuccess"),E=Object(y.b)("contacts/deleteContactError"),A=(Object(y.b)("phonebook/delete"),Object(y.b)("phonebook/changeFilter"));_.a.defaults.baseURL="http://localhost:4040";var q,M,R,J={addContact:function(t){var e=t.name,n=t.number;return function(t){var c={name:e,number:n};t(S()),_.a.post("/contacts",c).then((function(e){var n=e.data;return t(w(n))})).catch((function(e){return t(D(e))}))}},deleteContact:function(t){return function(e){e(I()),_.a.delete("/contacts/".concat(t)).then((function(){return e(L(t))})).catch((function(t){return e(E(t))}))}},fetchContacts:function(){return function(){var t=Object(v.a)(C.a.mark((function t(e){var n,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(k()),t.prev=1,t.next=4,_.a.get("/contacts");case 4:n=t.sent,c=n.data,e(F(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(N(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},U=n(14),z=function(t){return t.contacts.filter},B=function(t){return t.contacts.items},K={getLoading:function(t){return t.contacts.loading},getFiltered:z,getAllContacts:B,getErrorMessage:function(t){return t.contacts.error},getFilteredContacts:Object(U.a)([B,z],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},P=n(1),T=function(t){Object(i.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handleChange=function(e){t.setState(Object(f.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.state.name&&t.state.number&&(t.props.onSubmit({id:p.a.generate(),name:t.state.name,number:t.state.number}),t.setState({name:"",number:""}))},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(P.jsxs)("form",{className:O.a.form,onSubmit:this.handleSubmit,children:[Object(P.jsx)("label",{children:Object(P.jsx)("input",{className:O.a.data_input,placeholder:"Name:",type:"text",name:"name",value:this.state.name,onChange:this.handleChange})}),Object(P.jsx)("label",{children:Object(P.jsx)("input",{className:O.a.data_input,placeholder:"Number:",type:"text",name:"number",value:this.state.number,onChange:this.handleChange})}),Object(P.jsx)("button",{className:O.a.add_button,type:"submit",children:"ADD"})]})}}]),n}(c.Component),V={onSubmit:J.addContact},W=Object(l.b)((function(t){return{contacts:K.getAllContacts(t)}}),V)(T),Y=n(37),G=n.n(Y),H=Object(l.b)((function(t){return{value:K.getFiltered(t)}}),(function(t){return{onChange:function(e){return t(A(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange;return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("label",{children:Object(P.jsx)("input",{className:G.a.input,placeholder:"Filter by:",type:"text",name:"filter",value:e,onChange:n})})})})),Q=n(24),X=n.n(Q),Z={onDelete:J.deleteContact},$=Object(l.b)(null,Z)((function(t){var e=t.filtered,n=t.onDelete;return e.map((function(t){var e=t.name,c=t.number,a=t.id;return Object(P.jsxs)("li",{className:X.a.contact,name:e,children:[Object(P.jsx)("button",{className:X.a.button,type:"button",onClick:function(){return n(a)},children:"Delete"}),e," : ",c]},a)}))})),tt=function(t){Object(i.a)(n,t);var e=Object(b.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this.props,e=t.error,n=t.isLoading,c=t.isContactIncluded;return Object(P.jsxs)("div",{className:"container",children:[Object(P.jsx)("h1",{className:"header",children:"The Phonebook"}),Object(P.jsx)(W,{}),e&&Object(P.jsx)("h2",{children:e}),n&&Object(P.jsx)(j.a,{className:"loader"}),c&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(H,{}),Object(P.jsx)("ul",{className:"contacts",children:Object(P.jsx)($,{filtered:this.props.contacts})})]})]})}}]),n}(c.Component),et=Object(l.b)((function(t){return{contacts:K.getFilteredContacts(t),filter:K.getFiltered(t),isContactIncluded:t.contacts.items.length>0,isLoading:K.getLoading(t),error:K.getErrorMessage(t)}}),(function(t){return{fetchContacts:function(){return t(J.fetchContacts())}}}))(tt),nt=(n(93),n(94),n(9)),ct=n(8),at=n(5),rt=Object(y.c)([],(q={},Object(f.a)(q,F,(function(t,e){return e.payload})),Object(f.a)(q,w,(function(t,e){var n=e.payload;return[].concat(Object(nt.a)(t),[n])})),Object(f.a)(q,L,(function(t,e){var n=e.payload;return Object(nt.a)(t.filter((function(t){return t.id!==n})))})),q)),ot=Object(y.c)("",Object(f.a)({},A,(function(t,e){return e.payload}))),ut=Object(y.c)(!1,(M={},Object(f.a)(M,k,(function(){return!0})),Object(f.a)(M,F,(function(){return!1})),Object(f.a)(M,N,(function(){return!1})),Object(f.a)(M,S,(function(){return!0})),Object(f.a)(M,w,(function(){return!1})),Object(f.a)(M,D,(function(){return!1})),Object(f.a)(M,I,(function(){return!0})),Object(f.a)(M,L,(function(){return!1})),Object(f.a)(M,E,(function(){return!1})),M)),st=Object(y.c)(null,(R={},Object(f.a)(R,k,(function(){return null})),Object(f.a)(R,N,(function(t,e){return e.payload})),Object(f.a)(R,S,(function(){return null})),R)),it=Object(at.c)({items:rt,filter:ot,loading:ut,error:st}),bt=Object(nt.a)(Object(y.d)({serializableCheck:{ignoredActions:[ct.a,ct.f,ct.b,ct.c,ct.d,ct.e]}})),lt=Object(y.a)({reducer:{contacts:it},middleware:bt});o.a.render(Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(l.a,{store:lt,children:Object(P.jsx)(et,{})})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.98a0bce6.chunk.js.map