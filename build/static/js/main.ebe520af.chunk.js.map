{"version":3,"sources":["components/contactForm/ContactForm.module.css","components/contactItem/ContactItem.module.css","components/filter/Filter.module.css","redux/phonebook/phonebook.actions.js","redux/phonebook/contacts-operations.js","redux/phonebook/contacts-selectors.js","components/contactForm/ContactForm.js","components/filter/Filter.js","components/contactItem/ContactItem.js","App.js","redux/phonebook/phonebook.reducer.js","redux/store.js","index.js"],"names":["module","exports","fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","axios","defaults","baseURL","addContact","name","number","dispatch","contact","post","then","data","catch","error","deleteContact","id","delete","fetchContacts","a","get","message","getFiltered","state","contacts","filter","getAllContacts","items","getLoading","loading","getErrorMessage","getFilteredContacts","createSelector","normalizedFilter","toLowerCase","item","includes","ContactForm","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","shortid","generate","className","styles","form","this","data_input","placeholder","type","onChange","add_button","Component","mapDispatchToProps","phonebookOperations","connect","phonebookSelectors","input","onDelete","filtered","map","button","onClick","App","isLoading","isContactIncluded","length","createReducer","_","payload","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","store","configureStore","reducer","phoneBookReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ebe520af.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"data_input\":\"ContactForm_data_input__1900S\",\"add_button\":\"ContactForm_add_button__3uIah\",\"form\":\"ContactForm_form__2IUqW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contact\":\"ContactItem_contact__30xVp\",\"button\":\"ContactItem_button__29go6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Filter_input__3K0YO\"};","import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchContactsRequest = createAction(\n  'contacts/fetchContactsRequest',\n);\nexport const fetchContactsSuccess = createAction(\n  'contacts/fetchContactsSuccess',\n);\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\n\nexport const addContactRequest = createAction('contacts/addContactRequest');\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\nexport const addContactError = createAction('contacts/addContactError');\n\nexport const deleteContactRequest = createAction(\n  'contacts/deleteContactRequest',\n);\nexport const deleteContactSuccess = createAction(\n  'contacts/deleteContactSuccess',\n);\nexport const deleteContactError = createAction('contacts/deleteContactError');\n\nexport const deleteContact = createAction('phonebook/Delete');\nexport const changeFilter = createAction('phonebook/changeFilter');\n","import axios from 'axios';\nimport {\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n} from './phonebook.actions';\n\naxios.defaults.baseURL = 'http://localhost:4040';\n\nconst fetchContacts = () => async dispatch => {\n  dispatch(fetchContactsRequest());\n\n  try {\n    const { data } = await axios.get('/contacts');\n    dispatch(fetchContactsSuccess(data));\n  } catch (error) {\n    dispatch(fetchContactsError(error.message));\n  }\n};\n\nconst addContact = ({ name, number }) => dispatch => {\n  const contact = {\n    name,\n    number,\n  };\n\n  dispatch(addContactRequest());\n\n  axios\n    .post('/contacts', contact)\n    .then(({ data }) => dispatch(addContactSuccess(data)))\n    .catch(error => dispatch(addContactError(error)));\n};\n\nconst deleteContact = id => dispatch => {\n  dispatch(deleteContactRequest());\n\n  axios\n    .delete(`/contacts/${id}`)\n    .then(() => dispatch(deleteContactSuccess(id)))\n    .catch(error => dispatch(deleteContactError(error)));\n};\n\nexport default { addContact, deleteContact, fetchContacts };\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst getLoading = state => state.contacts.loading;\nconst getFiltered = state => state.contacts.filter;\nconst getAllContacts = state => state.contacts.items;\nconst getErrorMessage = state => state.contacts.error;\n\nconst getFilteredContacts = createSelector(\n  [getAllContacts, getFiltered],\n  (contacts, filter) => {\n    const normalizedFilter = filter.toLowerCase();\n    return contacts.filter(item =>\n      item.name.toLowerCase().includes(normalizedFilter),\n    );\n  },\n);\n\nexport default {\n  getLoading,\n  getFiltered,\n  getAllContacts,\n  getErrorMessage,\n  getFilteredContacts,\n};\n","import React, { Component } from 'react';\nimport styles from './ContactForm.module.css';\n\nimport shortid from 'shortid';\nimport { connect } from 'react-redux';\nimport { phonebookSelectors, phonebookOperations } from '../../redux/phonebook';\n\nclass ContactForm extends Component {\n  state = {\n    name: '',\n    number: '',\n  };\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (!this.state.name || !this.state.number) return;\n    this.props.onSubmit({\n      id: shortid.generate(),\n      name: this.state.name,\n      number: this.state.number,\n    });\n\n    this.setState({\n      name: '',\n      number: '',\n    });\n  };\n\n  render() {\n    return (\n      <form className={styles.form} onSubmit={this.handleSubmit}>\n        <label>\n          <input\n            className={styles.data_input}\n            placeholder=\"Name:\"\n            type=\"text\"\n            name=\"name\"\n            value={this.state.name}\n            onChange={this.handleChange}\n          ></input>\n        </label>\n        <label>\n          <input\n            className={styles.data_input}\n            placeholder=\"Number:\"\n            type=\"text\"\n            name=\"number\"\n            value={this.state.number}\n            onChange={this.handleChange}\n          ></input>\n        </label>\n        <button className={styles.add_button} type=\"submit\">\n          ADD\n        </button>\n      </form>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  onSubmit: phonebookOperations.addContact,\n};\n\nconst mapStateToProps = state => ({\n  contacts: phonebookSelectors.getAllContacts(state),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ContactForm);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { phonebookSelectors } from '../../redux/phonebook';\nimport { changeFilter } from '../../redux/phonebook/phonebook.actions';\nimport styles from './Filter.module.css';\n\nconst Filter = ({ value, onChange }) => {\n  return (\n    <>\n      <label>\n        <input\n          className={styles.input}\n          placeholder=\"Filter by:\"\n          type=\"text\"\n          name=\"filter\"\n          value={value}\n          onChange={onChange}\n        ></input>\n      </label>\n    </>\n  );\n};\n\nconst mapStateToProps = state => ({\n  value: phonebookSelectors.getFiltered(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: e => dispatch(changeFilter(e.target.value)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter);\n","import React from 'react';\nimport styles from './ContactItem.module.css';\nimport { connect } from 'react-redux';\n\nimport { phonebookOperations } from '../../redux/phonebook';\n\nconst ContactItem = ({ filtered, onDelete }) => {\n  return filtered.map(({ name, number, id }) => {\n    return (\n      <li className={styles.contact} name={name} key={id}>\n        <button\n          className={styles.button}\n          type=\"button\"\n          onClick={() => onDelete(id)}\n        >\n          Delete\n        </button>\n        {name} : {number}\n      </li>\n    );\n  });\n};\n\nconst mapDispatchToProps = {\n  onDelete: phonebookOperations.deleteContact,\n};\n\nexport default connect(null, mapDispatchToProps)(ContactItem);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loader from 'react-loader-spinner';\n\nimport ContactForm from './components/contactForm';\nimport Filter from './components/filter';\nimport ContactItem from './components/contactItem/ContactItem';\nimport { phonebookSelectors, phonebookOperations } from './redux/phonebook';\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.fetchContacts();\n  }\n\n  render() {\n    const { error, isLoading, isContactIncluded } = this.props;\n    return (\n      <div className=\"container\">\n        <h1 className=\"header\">The Phonebook</h1>\n        <ContactForm />\n        {error && <h2>{error}</h2>}\n\n        {isLoading && <Loader className=\"loader\" />}\n        {isContactIncluded && (\n          <>\n            <Filter />\n            <ul className=\"contacts\">\n              <ContactItem filtered={this.props.contacts} />\n            </ul>\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  contacts: phonebookSelectors.getFilteredContacts(state),\n  filter: phonebookSelectors.getFiltered(state),\n  isContactIncluded: state.contacts.items.length > 0,\n  isLoading: phonebookSelectors.getLoading(state),\n  error: phonebookSelectors.getErrorMessage(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchContacts: () => dispatch(phonebookOperations.fetchContacts()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport {\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  changeFilter,\n} from './phonebook.actions';\n\nconst items = createReducer([], {\n  [fetchContactsSuccess]: (_, { payload }) => payload,\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\n  [deleteContactSuccess]: (state, { id }) => [\n    ...state.filter(contact => contact.id !== id),\n  ],\n});\n\nconst filter = createReducer('', {\n  [changeFilter]: (_, { payload }) => payload,\n});\n\nconst loading = createReducer(false, {\n  [fetchContactsRequest]: () => true,\n  [fetchContactsSuccess]: () => false,\n  [fetchContactsError]: () => false,\n  [addContactRequest]: () => true,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n  [deleteContactRequest]: () => true,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst error = createReducer(null, {\n  [fetchContactsRequest]: () => null,\n  [fetchContactsError]: (_, { payload }) => payload,\n  [addContactRequest]: () => null,\n});\n\nexport default combineReducers({\n  items,\n  filter,\n  loading,\n  error,\n});\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\n\nimport phoneBookReducer from './phonebook/phonebook.reducer';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nexport const store = configureStore({\n  reducer: {\n    contacts: phoneBookReducer,\n  },\n  middleware,\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport 'modern-normalize/modern-normalize.css';\n\nimport { store } from './redux/store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}